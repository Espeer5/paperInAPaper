In order to understand the relationship between algorithmic fairness and
entitlement justice, it is important to first analyze the role of the
algorithmic decision-maker in the context of entitlement systems. On the 
entitlement approach, decisions about allocations are made entirely based on
property rights. Therefore the task of a decision-maker within our decision
problem is clear — the decision-maker becomes a \emph{property rights oracle}.
Given a resource and information about a population of individuals, the job of
the decision-maker is to determine which individuals hold property rights over
the resource. The role of fairness is thus a bit different than under other
theories of justice, because we do not start from the assumption of any sort of
equality across our population. What type of assumption should we start with 
instead? To understand this, we will analyze the points of contrast we have
drawn between the Rawlsian and entitlement theories of justice.

First, though, we must elucidate the meaning of property as it will be used in
this investigation. In the modern legal system, property is typically restricted
to a somewhat narrow range of physical objects, financial assets, and 
intellectual creations of the mind. Here, though, we will take a broader view of
property that encompasses any resource one might be entitled to claim and which
algorithmic decision-making might be used to allocate. This includes all of the
resources we typically think of as property, but also includes things like
admission to a particular college. In brief, property will refer to any finite
desirable resource that can be allocated to an individual. This is a much
broader understanding of property to allow the entitlement framework to be 
applied across a wide range of decision-making domains. Something like college
admissions may not be something we can count or measure in the same way we can
conventional property, but it is something one can \emph{earn} a claim to, and
something about which there can be a proper question of ownership. Ownership in
these systems cannot be legal ownership because the legal system does not and
should not have power of authority over allocation in these domains, but there
is still a fact about rightful entitlement outside from what the law is able to
ensure.

\subsection{Fairness in Process}

One critical dimension of entitlement justice is that it governs the process
that gives rise to a distribution of resources rather than the distribution
itself. This means that decisions about allocation which govern whether a
particular individual is able to acquire a given resource must be made in
accordance with a fair process. Rather than answering whether or not a given
decision-maker outputs a fair distribution, we must instead ask whether the
manner in which decisions about allocations are made is fair. This is a
subtle but important distinction. Under the entitlement approach, the output
distribution is allowed to be heavily skewed in favor of some individuals or
groups so long as the process by which the output distribution is arrived at is
in accordance with the principles of just acquisition and transfer.

As an example, consider the case of college admissions. Under the liberal
egalitarian approach, we mighty ask whether the output distribution of our
algorithm is fair by asking whether it results in a roughly equal number of
students admitted between race A and race B. Under the entitlement approach,
however, there is no reason to ask this question—we might find that the
students entitled to admissions are 90\% members of race B. Instead, the
relevant questions are how race is used in the admissions process — are
students from race A subject to the same rules of acquisition? Drawing on the
framework of the Lockean proviso, given that two students, one from each race,
have expended equal effort in their applications and studies, are the values
endowed in their applications treated as equal? Whereas the egalitarian approach
is that everyone is naturally entitled to an equitable share of the educational
resources in society, the entitlement approach holds that there are particular
actions and features of individuals that earn them the right to a higher level
of education.  Just what these features are depends on the context and problem 
domain of the decision-making system. Unlike the egalitarian approach, we cannot
start from teh assumption of equality, and instead must start by defining the 
set of relevant features that give rise to an individual's entitlement. From
this analysis, it is evident that to encode entitlement fairness, we cannot
simply measure the outputs of an algorithm, but rather must analyze the
treatment of features of individuals within the algorithm itself.

\subsection{Individual Responsibility}

Our second critical dimension of entitlement justice is that it places
emphasis on the actions and properties of individuals, while de-emphasizing
the role of group membership. Under the entitlement approach, individuals
perform actions that give rise to or forfeit their property rights. Fairness
must therefore be fundamentally based on a set of features of individuals which
are relevant to the process of determining property rights. These features will
generally not be simple demographic features or features encoded in the input
covariates in a straightforward way, but rather will be a set of more nuanced
features that must be predicted on the input data by a complicated
high-dimensional model. For example, in the case of college admissions you may
want to predict a feature like ``academic potential'' which will be difficult to
extract. These features can be sorted into two broad categories:
\begin{itemize}
    \item \emph{Positive Entitlement Features}: These are features of an
    individual that give rise to property rights. For example, an
    individual's effort in an application process might be a positive
    entitlement feature that gives rise to their right to be admitted
    to a college.
    \item \emph{Negative Entitlement Features}: These are features of an
    individual that forfeit their property rights. For example, if
    an individual cheats on their application, or performs very poorly on an
    entrance exam, these might be negative entitlement features that
    forfeit their right to be admitted to a college. 
\end{itemize}
Notice that given the full set of relevant positive and negative features of an
individual that determine their property rights, we should be able to fully
determine the individual's entitlement to a resource and complete the decision
problem. In other words, once we have identified the features and computed
them on an individual, the output of the decision maker can be fully specified
by these features alone. This lends itself to a natural understanding of
fairness in process — the process of mapping an individual to their decision
should be fully decided through the relevant features identified. These
features should be explicitly justified and made transparent to the
individuals affected by the decision. 

Returning to our discussion of modern entitlement theories, we can recognize
that the identification of relevant features is how context-specificity will
enter into our account of algorithmic fairness. In each problem domain for 
algorithmic decision-making, there will be a different set of positive and
negative features that are relevant to the entitlement being decided. By
identifying and justifying the set of features relevant in each domain, we
allow our account of fairness to be sensitive to the context and nuances of the
problem at hand. This is a powerful contrast to typical approaches to fairness
under which we attempt to identify a universal measure of fairness that can be
applied across all domains.

In application, this implies a particular set of structural conditions that must
be followed to implement an algorithm which is fair under the entitlement
approach. A classification scheme must be developed that first computes the
value of each of the relevant positive and negative entitlement features for
each individual in the population. Then a decision must be reached through only
those computed features, in isolation from the full input data to the algorithm.
Note that this is \emph{not} equivalent to fairness through unawareness.
Protected attributes of individuals will be used to learn the features relevant
to the decision problem, and the features themselves will encode the information
about the protected attributes. Rather than trimming the information about the
protected attributes from the input data, we are instead using it to compute 
relevant features which are then used to make reasons-based allocation decisions.
This may seem to stand in stark contrast to the way that many machine learning
algorithms are currently developed. For example, in a typical supervised
learning setting, a model is trained to map a set of inputs to a set of outputs
according to a high-dimensions loss function, with little regard for the
manner in which the inputs are processed. However, the internal structure of
neural networks and other machine learning models gives rise to a set of
features computed by the model, constituting a lower-dimensional representation
of the input data~\citep{Liu_2018}. The approach we suggest here can be thought
of as a way of manually specifying a lower dimensional set of features that
are relevant to implement individual fairness over as a way of
exercising control over \emph{how} the model makes decisions in order to
implement fairness as a process.

What would selection of these features look like in practice? Consider again the case of
college admissions, and in particular, how decision are made about admissions of
students who have less access to resources and academic opportunities. There are
several features that are not straightforwardly encoded in the input data but
are certainly relevant to the entitlement
\begin{itemize}
    \item Firstly, we might want to extract a feature that captures the notion
    of current academic performance. This is likely a function of GPA, test
    scores, and other typical academic indicators, and is justified by an appeal
    to the idea that students who perform well academically are more likely to
    succeed in college. Likelihood of success is made relevant by the fact
    that individuals who are likely to succeed at the university return gains 
    to the university, and therefore justify their admissions in a free market
    of talent. This positive feature represents an action of the individual that
    gives rise (``earns'') their right to be admitted. This stands in contrast
    to the Rawlsian approach, under which there is no broad support for
    meritocratic systems. Academic performance for Rawls is likely a product of
    natural talent and luck, and therefore by Rawlsian standards, is not a valid
    basis to allocate admissions inequitably.
    \item In contrast, we should also say that a student is entitled to admissions if
    they have demonstrated a stronger work ethic and commitment level than their
    peers, even if they attended a lower income school and thereby had less 
    access to advanced classes and tutoring resources. Effort and commitment
    demonstrate a greater value endowed into an application, and therefore a
    higher degree of entitlement. Here the difference with Rawls is more subtle.
    Rawls would agree that the student from a lower income school and with less
    access to resources should be promoted in admissions, but as a redistributive
    effort rather than as a recognition of the value endowed in the application.
    On the entitlement approach, two students who have expended equal work and
    effort should be treated equally in this respect, regardless of their 
    background.
    \item Finally, we might also want to consider a student's cultural fit and
    addition to the campus community. This feature reflects a student's
    entitlement on the basis of more than just academic merit — a student who
    provides cultural value to a university provides similar, though reduced
    value to the university as a student who provides academic value, and
    therefore has a similar, though lesser, entitlement. This feature can be
    subdivided into both a positive and negative feature. A student who has 
    demonstrated positive cultural value to the community gains an entitlement,
    while a student who has demonstrated negative cultural value forfeits their
    entitlement earned through academic merit and effort. Here Rawls again pulls
    apart from the entitlement approach. Under the Rawlsian view, cultural fit,
    so far as it is a product of natural tendencies and socialization, is not a
    valid basis for admissions.
\end{itemize}
An algorithm meant to implement entitlement fairness in college admissions
would then consist of predictors which extract each of these values for each
individual, and then a system of mapping these values to a decision about
admissions. Of course, the standards used for entitlement in this domain and
others are up for debate, and whatever set of features is selected must be
justified and defended in a public forum.

Now, one critical dimension of fairness remains to be discussed — how do we
ensure that the predictors which compute the value of the relevant features for
each individual are themselves fair? To understand this question, we should
delve into the basis of the entitlement features themselves. Positive features
of an individual give rise to property rights through the mixing of one's self 
with the subject of the entitlement itself. They are something that the
individual does to imbue the subject of the entitlement with value. An error in
the prediction of a positive feature results in the devaluing of an individual—
either one is not given the credit they deserve for their work through a false
negative, or one is given credit for work they did not do through a false
positive, devaluing the work of others. For negative features, a similar 
argument can be made. A false positive on a negative feature results in an
individual being punished for something they did not do, while a false
negative results in an individual being rewarded despite having done something
disqualifying. In either case, we can see that errors in the prediction of 
the features result in a violation of the entitlement of an individual. Under 
Nozick's entitlement theory, there is no one individual or group for whom 
violations of entitlement are more or less important. Therefore, there is no
no reason to assume enforce any particular pattern of prediction errors in the
feature predictors. Rather, what matters, is that the predictors are as accurate
as possible, resulting in the fewest possible violations of entitlements.
However, no predictor will remove all errors, and therefore we must also ask how
we should handle the errors that do occur.

Turning once more to Nozick's entitlement theory, we see that the theory
provides clear direction in this respect. In his theory of justice, Nozick puts
forward a principle of rectification, which states that if an individual has
been wrongfully deprived of their entitlements, the subject of a past injustice,
then they are entitled to a rectification of that injustice which will result in
them having all those holdings which they would have had if the injustice had
not occurred. Clearly we need to build such a system of rectification into our
account to correctly reflect Nozick's entitlement theory. Given that the
features we choose appropriately judge the entitlements of individuals, we see
that the only way the system commits an injustice is if the features themselves
are mis-predicted. As a result, we can see that we must offer a system of 
rectification for individuals who have been wrongfully deprived. This has two 
major implications. Firstly, an individual must be informed of the features used
in their decisions and their values over those features. Second, the individual
must have a means of appealing their prediction for particular features, and if
proven the prediction was incorrect through investigation, the individual must
be compensated for the error. This investigation should be human conducted,
resulting in human oversight of the decision-making process where the algorithm
is unable to provide a fair decision.

\subsection{Entitlement Fairness and Redistribution}

A third critical dimension of entitlement justice is that it rejects the notion
of redistribution. Under the entitlement approach, once property rights have
been established, they must be respected and protected, and no attempt should be
made to redistribute resources in order to achieve a more equal distribution.
Note that this is already successfully encoded in the system we have described.
Once the set of relevant features have been identified, the decision
problem output must be entirely separated from the input data given the relevant
features. This means that no redistributive scheme may be implemented after the
property rights decision that attempts to balance the distribution of resources
over less fortunate individuals.

We are, however, offered a mechanism through entitlement theory for improving
outcomes for those who have been wrongfully deprived of their entitlement
through the principle of rectification. For example, if we find that a
particular group of individuals has been systematically excluded from a resource
due to a historical injustice, rectification allows us to then consider
membership in that group to be a positive entitlement feature, and to thereby
account for it within the decision problem. This is a powerful mechanism for
addressing historical injustices and allows us to consider the broader social
context in which our algorithm is situated.

Importantly, rectification is not inherently redistributive. \emph{Lacking} a 
particular resource does not give rise to a claim to that resource, unless the
lack was produced by an injustice. An injustice can be done to one who is
wealthy in the subject of the entitlement, or to one who is poor, and in either
case rectification operates the same way.

\subsection{Measuring Fairness}

Having developed a qualitative account of entitlement fairness, we may now
formalize our account in a way that allows us to measure it. We can
define a measure of entitlement fairness as follows. Given our typical decision
problem, identify a set of relevant features of each individual in the
population, $V = \{v_1, v_2, \ldots, v_i\}$, where the value of each feature is
a discrete variable which can take on a finite number of values. For example, 
the feature ``academic performance'' might take on the values ``poor'', ``fair'',
``good'', and ``excellent''. Implement a predictor for each feature, which maps
from the covariates of an individual $X$ to a predicted value of the feature,
$v_j \approx \hat{g_j}(X)$. Assume that the predictor $\hat{g}$ is chosen from a
class of possible predictors $G_j$ for each feature, and define the accuracy of
the predictor as $A(\hat{g_j}) = P[\hat{g_j}(X) = v_j]$. Recall from the setup
in section 2 that $f$ is the function $f: X -> \{0, 1\}$ which determines from
the covariates of an individual whether they are entitled to the resource in
question. Now, these are the conditions for entitlement fairness:
\begin{enumerate}
    \item $P[f(X_1) = 1 | V_1] = P[f(X_2) = 1 | V_1]\;\forall X_1, X_2$ (Independence Condition)
    \item $\hat{g_j} = \mathop{\arg\max}\limits_{g_j\in G_j}A(g)\; \forall j$ (Max Accuracy Predictor Condition)
\end{enumerate}
In addition to these mathematical conditions, we also require that
\begin{enumerate}
    \item The values of the features predicted by the model be made
    transparent to the individuals affected by the decision.
    \item The individuals affected by the decision have suitable opportunities
    to appeal the decision of the predictor for rectification.
    \item The importance of the features used in the decision problem be 
    justified and defended in a public forum. 
\end{enumerate}

These conditions together provide a context-sensitive and principled approach to
algorithmic fairness derived from the entitlement approach to justice, and 
provide a framework for understanding how to select and apply fairness criteria
in algorithmic decision-making.

The role of the first condition is to ensure that the decision-maker is
correctly screened off from the input data by the features of the individual.
This means that the output of the decision-maker is fully determined by the
relevant entitlement features, such that the process by which the decision-maker
reaches a decision is fair according to the principles of entitlement justice as
described above. The second condition ensures that the features are predicted
as accurately as possible, and that the decision-maker is producing as few 
violations of entitlement as possible. The requirements for feature
transparency and rectification ensure that when a decision is made that does 
violate entitlement, the individual has the opportunity to appeal the decision
and have it rectified according to Nozick's theory.

\subsection{Entitlement Fairness in Practice}

To see how the entitlement fairness measure is applied in practice, and how it 
compares to existing, egalitarian measures of fairness, we will consider the
college admissions example in detail. In this example, we will consider a
decision problem in which a university is attempting to allocate a set of
admissions to a set of students. We will focus on the division of two groups of
students, the red group and the blue group, into admitted and rejected students.
The university historically accepts far more students from the red group than
from the blue group.

The university is interested in allocating admissions to students in a way that
is deemed fair, but there are some severe statistical disparities in the
students who are applying. Red group students are much more likely to be
interested in applying to the university's underwater basket weaving program,
while blue group students are much more likely to be interested in applying to
the university's computer science program. At this college, the computer science 
program is much more competitive than the underwater basket weaving program,
because underwater basket weaving is able to accept a much larger number of
students. The university is developing a single central admissions algorithm to
handle admittance across all programs.

Under conventional measures of algorithmic fairness, the university is in a 
difficult position. They can admit only a small number of students to the 
computer science program, and since the majority of blue group students favor 
computer science, they are likely to be rejected at a much higher rate than red
group students. This would be opposite from a purely Rawlsian aproach, in which
the historically disadvantaged blue group students should be favored in the 
admissions process. To enforce this advantage, the university could implement a
parity measure, such as equalized odds. However, in doing so, they would be
preferring students from the blue group over red gorup students with equal
qualifications—given two students with equal qualifications, one from each
group, who both applied into underwater basket weaving, the algorithm would
certainly prefer the blue group student in order to satisfy the output
distribution constraints. In the end, balancing outcomes across the two groups
is a bad idea, as the unequal base rates of acceptance due to self-selection 
into the programs will naturally result in a highly unbalanced output
distribution. Correcting for this imbalance results in a system that is
inherently redistributive, and chooses to favor demographic group membership 
over features relevant to the decision problem.

In contrast, the entitlement fairness approach has no qualms about the inequity
in the output distribution. The university is free to admit a demographic 
mixture of students which is heavily skewed in favor of the red group, in 
accurate reflection to the true distribution of qualifications combined with 
self-selection into programs. The university must choose the relevant features
to the domain. From the example described above, we borrow the feature set so
that the positive entitlement features are academic performance, effort,
cultural fit, and potential in the specific program. The negative entitlement 
features are cheating on the application and negative social media presence.
Now, the university is required to use these features only to make decisions
about who to admit. Notice that group membership is not a feature at this stage
of the decision process. Information from group membership may be relevant to
the decision, but only in the sense that it is used to compute the values of the
features. As an example, if a student is a member of the blue group, and the 
blue group is socioeconomically disadvantaged, then the blue group student may
receive a high effort score for an equal GPA and test score to a red group
student. Once this feature is extracted, however, the decision-maker is no 
longer allowed to use the group membership in the decision process, meaning that
any information extracted from the group membership is used in a way that is
consistent with a principled theory of justice. Compare this to the use of group
membership in the egalitarian measures, where the group membership is used to 
transfer the decision-maker's attention away from features which may be relevant
to student's qualifications to achieve a statistical balance across groups.

Finally, under the entitlement fairness approach, the university is required to
publish the features used in the decision process and their values for each 
individual. The university must then provide a rectification process for the 
students, so that if they feel their values were mis-predicted, they can appeal
the decision. Notice that this type of information could be thought to satisfy
the the type of explanation that is required by the EU's GDPR~\citep{gdpr2016}
as an additional benefit of the entitlement fairness approach.
